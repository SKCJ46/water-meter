
-----

### üìÑ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö GitHub

````markdown
# üö∞ Smart Water Meter OCR (ESP32-CAM + Cloud API)

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå IoT ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ô‡πâ‡∏≥‡πÅ‡∏ö‡∏ö‡∏≠‡∏ô‡∏≤‡∏•‡πá‡∏≠‡∏Å (Analog Water Meter) ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏•‡πâ‡∏≠‡∏á **ESP32-CAM** ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô WiFi ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Server (PHP) ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏î‡πâ‡∏ß‡∏¢ **OCR Technology**

## üß© ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (System Architecture)

1.  **Capture:** ESP32-CAM ‡∏ï‡∏∑‡πà‡∏ô‡∏à‡∏≤‡∏Å Deep Sleep ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ô‡πâ‡∏≥ (‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏õ‡∏¥‡∏î Flash)
2.  **Upload:** ‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ú‡πà‡∏≤‡∏ô HTTP POST ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Local Server (PHP)
3.  **OCR Processing:** Server ‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏¢‡∏±‡∏á **OCR.space API** (Cloud) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏†‡∏≤‡∏û‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
4.  **Smart Filter:** PHP ‡πÉ‡∏ä‡πâ Logic ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏±‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏Ç‡∏¢‡∏∞ (‡πÄ‡∏ä‡πà‡∏ô ‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠, ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏î) ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏â‡∏û‡∏≤‡∏∞ "‡πÄ‡∏•‡∏Ç‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå" ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
5.  **Database:** ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥‡∏•‡∏á MySQL

```mermaid
graph LR
    A[ESP32-CAM] -->|HTTP POST Image| B(PHP Server);
    B -->|Request API| C[OCR.space Cloud];
    C -->|Return JSON| B;
    B -->|Filter Logic| D{Valid Number?};
    D -- Yes --> E[(MySQL Database)];
    D -- No --> F[Log Error];
````

## üõ†Ô∏è ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ (Hardware)

1.  **‡∏ö‡∏≠‡∏£‡πå‡∏î ESP32-CAM** (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏£‡∏∏‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ PSRAM)
2.  **‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏•‡∏á USB to TTL (FTDI)** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î
3.  **‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ô‡πâ‡∏≥** (‡πÅ‡∏ö‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏ü‡∏∑‡∏≠‡∏á‡∏´‡∏°‡∏∏‡∏ô)
4.  **‡πÅ‡∏´‡∏•‡πà‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü 5V** (Adapter ‡∏´‡∏£‡∏∑‡∏≠ Power Bank)

### ‚ö†Ô∏è ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å\!)

‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ AI ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡πÑ‡∏î‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

  * **‡∏õ‡∏£‡∏±‡∏ö‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡πÄ‡∏•‡∏ô‡∏™‡πå (Macro Focus):** ‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏•‡∏ô‡∏™‡πå‡∏Ç‡∏≠‡∏á ESP32-CAM ‡∏ó‡∏ß‡∏ô‡πÄ‡∏Ç‡πá‡∏°‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ä‡∏±‡∏î‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡πÉ‡∏Å‡∏•‡πâ (10-15 ‡∏ã‡∏°.)
  * **‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏Å (Masking):** ‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏õ‡∏î‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏© ‡∏õ‡∏¥‡∏î‡∏ó‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î (‡πÄ‡∏ä‡πà‡∏ô ‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠ ZENNER, SANWA, mm) **‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ä‡πà‡∏≠‡∏á‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏£‡∏ö‡∏Å‡∏ß‡∏ô

-----

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (Installation)

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: Server Setup (PHP & MySQL)

1.  **‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Web Server:** ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á AppServ, XAMPP, ‡∏´‡∏£‡∏∑‡∏≠ Docker ‡∏ó‡∏µ‡πà‡∏°‡∏µ Apache/PHP/MySQL
2.  **‡∏™‡∏£‡πâ‡∏≤‡∏á Database:** ‡πÄ‡∏Ç‡πâ‡∏≤ phpMyAdmin ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô SQL ‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á:

<!-- end list -->

```sql
CREATE DATABASE water_meter;
USE water_meter;

CREATE TABLE meter_readings (
    id INT AUTO_INCREMENT PRIMARY KEY,
    device_id VARCHAR(50),
    image_path VARCHAR(255),
    reading_value VARCHAR(20),
    ocr_raw TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

3.  **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Script:**
      * ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `uploads` ‡πÉ‡∏ô Web Root (‡πÄ‡∏ä‡πà‡∏ô `C:/AppServ/www/uploads`)
      * ‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `meter_upload.php` ‡∏•‡∏á‡πÉ‡∏ô Web Root
4.  **Config PHP:** ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `meter_upload.php`
      * ‡πÉ‡∏™‡πà Database Credentials (`$db_user`, `$db_pass`)
      * ‡πÉ‡∏™‡πà **API Key** (‡∏Ç‡∏≠‡∏ü‡∏£‡∏µ‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà [ocr.space](https://ocr.space/OCRAPI))

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: Firmware Setup (ESP32-CAM)

1.  ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á **Arduino IDE**
2.  ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Board Manager: `ESP32 by Espressif Systems`
3.  ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `.ino` ‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡πà‡∏ß‡∏ô Config:
    ```cpp
    const char* WIFI_SSID     = "‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ß‡πÑ‡∏ü‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì";
    const char* WIFI_PASSWORD = "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô";
    const char* SERVER_URL    = "[http://192.168.](http://192.168.)x.x/meter_upload.php"; // IP ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á Server
    ```
4.  ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏≠‡∏£‡πå‡∏î **"AI Thinker ESP32-CAM"** ‡πÅ‡∏•‡∏∞‡∏Å‡∏î Upload

-----

## üí° ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Usage)

1.  ‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏Ç‡πâ‡∏≤‡∏ö‡∏≠‡∏£‡πå‡∏î ESP32-CAM
2.  ‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£:
      * ‡πÄ‡∏õ‡∏¥‡∏î Flash LED
      * ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ
      * ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
      * ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏´‡∏•‡∏±‡∏ö (Deep Sleep)
3.  ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà **phpMyAdmin** ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö Dashboard ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô
      * ‡∏î‡∏π‡∏ä‡πà‡∏≠‡∏á `reading_value` ‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

-----

## üîß ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (Troubleshooting)

  * **‡∏†‡∏≤‡∏û‡πÄ‡∏ö‡∏•‡∏≠:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏•‡∏ô‡∏™‡πå (Manual Focus)
  * **‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô/‡∏°‡∏µ‡πÄ‡∏•‡∏Ç‡∏Ç‡∏¢‡∏∞:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö "‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏Å (Cover)" ‡∏ß‡πà‡∏≤‡∏õ‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡∏°‡∏¥‡∏î‡∏ä‡∏¥‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
  * **‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤:** ‡πÄ‡∏ä‡πá‡∏Ñ IP Address ‡∏Ç‡∏≠‡∏á Server ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ ESP32 ‡∏Å‡∏±‡∏ö Server ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ß‡∏á WiFi ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
  * **API Error:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Quota ‡∏Ç‡∏≠‡∏á API Key ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï‡∏Ç‡∏≠‡∏á Server

-----

```
